# Бизнес портал для блогов и общения на  React с личный кабинетом админкой  и своим сервером на NestJS + PostgreSQL

### Деплой на beget.com на облачном сервере: http://vc.o26469l5.beget.tech:5173 

### Используемые технологии при разработке: html, scss, JavaScript, React, React Query, Redux, TypeScript, NodeJS, socket.io, NestJS, prisma, PostgreSQL, react-quill, Vite, Docker

### В проекте применил Docker.  В docker-compose описал 3 сервиса: client, server, postgre_db, создал 3 образа и на их основе запустил 3 взаимосвязанных контейнера

### Функционал клиентская часть:
- Роутинг- react-router-dom. Отдельный layout для админки
- Регистрация и авторизация, защищенные роуты, роли пользователей
- Реализован поиск товаров на сервере
- Создание поста реализовано через библ. react-quill
- Пост реализован в 2х вариациях: ознакомительная мини версия и полная развернутая версия 
- Посты группируются по темам: «Маркетинг», «Разработка», «Будущее»…
-Группировка постов в блог пользователя
- В личном кабинете реализован чат на websocket на библ. socket.io для онлайн общения между пользователями с сохранением сообщений в БД
- Функционал для  комментирования всех постов
- Форма с авторизацией и регистрацией, страница создания поста, чат, реализованы через PopUp
- Адаптивная верстка под планшет max-width: 1035px и 880px , под смартфон max-width: 440px. Для мобильной версии отдельный хедер и LeftMenu
- Используется React Query и axios. Запросы GET, POST, PATCH, DELETE
- Кастомная валидация форм
- Redux. Данные пользователей сохраняются в Redux
- Используется библиотека иконок lucide-vue-next и загрузчики Skeleton
- Реализована различная анимация и кастомный дизайн
- В админке можно создавать, удалять, редактировать пользователей, посты, комментарии к ним, сообщения в чате
- В админке все посты, пользователи, комментарии выводятся списками
- Проект написан на TypeScript

### Функционал серверная  часть:
- Используются  NodeJS, NestJS,  prisma, PostgreSQL
- Используется библ. multer для сохранения файлов на сервер
- Используется библ. jsonwebtoken для создания токенов
- Пароли пользователей шифруются   через библ. bcrypt
- Каждая функция-контроллер возвращает на клиент коды результата выполнения запроса с текстовым разъяснением ошибки при наличии
- Реализованы связи между коллекциями в БД: User-Posts, User-Сomments, Post-Сomments.
- Guards использую для защиты роутов, для расшифровки и проверки токена из cookie  приходящего с запросом с клиента.  В целях безопасности проверяю все важные  роуты через Guards
- Токен передается через cookie . Произведена настройка cookie, установлена  опция httpOnly:  true.  Соответственно украсть токен невозможно и все важные роуты под защитой
 - Серверная  часть написана на TypeScript

### Доступ в админку и личный кабинет:
Тестовые админские логин и пароль:\
логин: admin@test.com\
пароль: 123\

Тестовые пользовательские логин и пароль:\
логин: user@test.com\
пароль: 123\
Либо зарегистрируйте своего пользователя

### Установка проекта:
Для запуска на локальной машине необходимо:\
- Установить Docker Desktop под вашу ОС, склонировать мой репозиторий VC_RU, перейти в терминале редактора кода в корневую папку VC_RU
- Ввести команду в терминале для сборки docker-compose build
- После сборки образов ввести команду docker-compose up
- Запустятся 3 контейнера client, server, postgres_db
- Нужно сделать миграции для БД, последовательно ввести команды
- docker-compose exec server npx prisma migrate dev --name “название”
- docker-compose exec server npx prisma generate
- Если все успешно, клиентская часть будет запущена на http://localhost:5173
- Серверная часть будет запущена на http://localhost:7777
- Отлично, все работает! Далее наполните БД данными(посты, юзеры) через клиентскую часть приложения, удачного пользования!
